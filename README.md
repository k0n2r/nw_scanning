# Network Scanning Script

## DISCLAIMER

**English:**  
This software is provided "as is" without any warranty. Usage is at your own risk. The developers assume no liability for any misuse or damage caused by this program.

**Русский:**  
Этот скрипт предоставлен "как есть" без каких-либо гарантий. Использование на ваш страх и риск. Авторы не несут ответственности за использование данного скрипта или за любой ущерб, вызванный его использованием.

---

## Описание

Этот скрипт выполняет автоматическое сканирование IP-адресов и подсетей с помощью утилиты `nmap` для выявления активных хостов и анализа доступных служб. Он выводит результаты в файл с временной меткой, созданный в каталоге `Результат_nw_scanning`.

## Требования

- Установленный `nmap` на вашей системе.
- Bash-совместимая оболочка (например, `bash`).

## Установка

```
$ sudo apt update
$ sudo git clone https://github.com/k0n2r/nw_scanning.git
$ cd nw_scanning
$ ./nw_scanning.sh
```
 
Результаты сканирования будут сохранены в файл с именем `scan_nw_<дата_время>.txt` в каталоге `Результат_nw_scanning`.

## Структура скрипта

### 1. Проверка на наличие `nmap`

Скрипт проверяет, установлена ли утилита `nmap`. Если она отсутствует, будет выведено сообщение об ошибке, и скрипт завершит выполнение.

### 2. Ввод и проверка IP-адреса или подсети

Скрипт запрашивает IP-адрес или подсеть для сканирования. Если ввод пуст, скрипт завершит выполнение с сообщением об ошибке.

### 3. Установка каталога и имени файла для результатов

Каталог `Результат_nw_scanning` создается для хранения файлов результатов. Имя файла включает временную метку для идентификации времени сканирования.
Update 
### 4. Сканирование подсети

Функция `scan_subnet` выполняет следующие действия:
- Проводит сканирование всех хостов в указанной подсети и находит активные хосты.
- Запрашивает подтверждение на дальнейшее сканирование активных хостов.
- Если подтверждение получено, сканирует указанные порты на каждом активном хосте и сохраняет результаты в файл.

### 5. Сканирование отдельного хоста

Если введен отдельный IP-адрес, скрипт выполняет глубокое сканирование конкретного хоста и также сохраняет результаты в файл.

### 6. Анализ и форматирование результатов

Функция `parse_results` анализирует файл с результатами сканирования и выводит:
- Найденные устройства с их IP-адресами.
- Информацию об операционных системах, если доступно.
- Открытые, закрытые и фильтрованные порты.

### 7. Дополнительные функции

Если сканируется одиночный IP, скрипт использует `ncat` для установления соединения с этим хостом на порту `50000`.

## Пример использования

1. Убедитесь, что скрипт имеет права на выполнение:
   ```
   chmod +x nw_scanning.sh
   ```
2. Запустите скрипт:
   ```
   ./nw_scanning.sh
   ```
3. Следуйте инструкциям в терминале

## Примечания

- Этот скрипт предназначен для использования в учебных целях.
- Рекомендуется запускать скрипт с правами администратора, чтобы получить полные результаты.

## Авторские права

Скрипт предоставляется без каких-либо гарантий и лицензируется на условиях "как есть". Авторы не несут ответственности за возможный ущерб от его использования.

